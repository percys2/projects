{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/services/inventoryService.js"],"sourcesContent":["export const inventoryService = {\n  async getInventory(orgSlug, branchName = null) {\n    const response = await fetch(`/api/inventory`, {\n      headers: { \"x-org-slug\": orgSlug },\n    });\n\n    const data = await response.json();\n    const items = data.inventory ?? [];\n\n    if (branchName) {\n      return items.filter(i => i.branches?.name === branchName);\n    }\n\n    return items;\n  },\n\n  async decreaseStock(orgSlug, productId, branchId, qty) {\n    const res = await fetch(\"/api/inventory/movements\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-org-slug\": orgSlug,\n      },\n      body: JSON.stringify({\n        productId,\n        branchId,\n        qty,\n        type: \"salida\",\n      }),\n    });\n\n    return await res.json();\n  }\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,mBAAmB;IAC9B,MAAM,cAAa,OAAO,EAAE,aAAa,IAAI;QAC3C,MAAM,WAAW,MAAM,MAAM,CAAC,cAAc,CAAC,EAAE;YAC7C,SAAS;gBAAE,cAAc;YAAQ;QACnC;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,MAAM,QAAQ,KAAK,SAAS,IAAI,EAAE;QAElC,IAAI,YAAY;YACd,OAAO,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,EAAE,SAAS;QAChD;QAEA,OAAO;IACT;IAEA,MAAM,eAAc,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG;QACnD,MAAM,MAAM,MAAM,MAAM,4BAA4B;YAClD,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,cAAc;YAChB;YACA,MAAM,KAAK,SAAS,CAAC;gBACnB;gBACA;gBACA;gBACA,MAAM;YACR;QACF;QAEA,OAAO,MAAM,IAAI,IAAI;IACvB;AACF"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/store/useBranchStore.js"],"sourcesContent":["\"use client\";\n\nimport { create } from \"zustand\";\n\nexport const useBranchStore = create((set) => ({\n  branches: [\n    { id: \"masatepe\", name: \"Bodega Masatepe\" },\n    { id: \"diriomo\", name: \"Bodega Diriomo\" },\n  ],\n\n  activeBranch: \"masatepe\",\n\n  setBranch: (branch) => set({ activeBranch: branch }),\n}));\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIO,MAAM,iBAAiB,IAAA,uNAAM,EAAC,CAAC,MAAQ,CAAC;QAC7C,UAAU;YACR;gBAAE,IAAI;gBAAY,MAAM;YAAkB;YAC1C;gBAAE,IAAI;gBAAW,MAAM;YAAiB;SACzC;QAED,cAAc;QAEd,WAAW,CAAC,SAAW,IAAI;gBAAE,cAAc;YAAO;IACpD,CAAC"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/utils/generateInvoiceNumber.js"],"sourcesContent":["export function generateInvoiceNumber() {\n  const n = Math.floor(Math.random() * 900000) + 100000;\n  return \"FAC-\" + n;\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS;IACd,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,UAAU;IAC/C,OAAO,SAAS;AAClB"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/services/salesService.js"],"sourcesContent":["import { inventoryService } from \"./inventoryService\";\nimport { generateInvoiceNumber } from \"../utils/generateInvoiceNumber\";\n\nexport const salesService = {\n  async makeSale({ orgId, orgSlug, branchId, client, cart, paymentType, notes }) {\n    if (!orgId) throw new Error(\"Missing orgId\");\n    if (!client?.id) throw new Error(\"Seleccione un cliente.\");\n    if (!cart || cart.length === 0) throw new Error(\"El carrito est√° vac√≠o.\");\n\n    const invoice = generateInvoiceNumber();\n    const total = cart.reduce((sum, p) => sum + p.qty * p.price, 0);\n\n    // 1Ô∏è‚É£ Build items in the exact format your API expects\n    const itemsPayload = cart.map((p) => ({\n      product_id: p.id,\n      quantity: p.qty,\n      price: Number(p.price),\n      cost: Number(p.cost ?? 0), // MOST IMPORTANT\n    }));\n\n    // 2Ô∏è‚É£ Make the request to your real route\n    const res = await fetch(\"/api/sales/create-with-items\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-org-id\": orgId, // API REQUIRED HEADER\n      },\n      body: JSON.stringify({\n        client_id: client.id,\n        payment_method: paymentType || \"cash\",\n        notes: notes || null,\n        total,\n        items: itemsPayload,\n      }),\n    });\n\n    const data = await res.json();\n\n    if (!res.ok) {\n      throw new Error(data.error || \"Error creando venta.\");\n    }\n\n    // 3Ô∏è‚É£ Decrease inventory for each item (you also do RPC)\n    for (const item of cart) {\n      await inventoryService.decreaseStock(\n        orgSlug,\n        item.id,\n        branchId,\n        item.qty\n      );\n    }\n\n    // 4Ô∏è‚É£ Return sale with invoice\n    return {\n      ...data.sale,\n      invoice_number: invoice,\n      items: cart,\n      total,\n    };\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,eAAe;IAC1B,MAAM,UAAS,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE;QAC3E,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;QAC5B,IAAI,CAAC,QAAQ,IAAI,MAAM,IAAI,MAAM;QACjC,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,GAAG,MAAM,IAAI,MAAM;QAEhD,MAAM,UAAU,IAAA,qPAAqB;QACrC,MAAM,QAAQ,KAAK,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,GAAG,GAAG,EAAE,KAAK,EAAE;QAE7D,uDAAuD;QACvD,MAAM,eAAe,KAAK,GAAG,CAAC,CAAC,IAAM,CAAC;gBACpC,YAAY,EAAE,EAAE;gBAChB,UAAU,EAAE,GAAG;gBACf,OAAO,OAAO,EAAE,KAAK;gBACrB,MAAM,OAAO,EAAE,IAAI,IAAI;YACzB,CAAC;QAED,0CAA0C;QAC1C,MAAM,MAAM,MAAM,MAAM,gCAAgC;YACtD,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,YAAY;YACd;YACA,MAAM,KAAK,SAAS,CAAC;gBACnB,WAAW,OAAO,EAAE;gBACpB,gBAAgB,eAAe;gBAC/B,OAAO,SAAS;gBAChB;gBACA,OAAO;YACT;QACF;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;QAChC;QAEA,yDAAyD;QACzD,KAAK,MAAM,QAAQ,KAAM;YACvB,MAAM,8OAAgB,CAAC,aAAa,CAClC,SACA,KAAK,EAAE,EACP,UACA,KAAK,GAAG;QAEZ;QAEA,+BAA+B;QAC/B,OAAO;YACL,GAAG,KAAK,IAAI;YACZ,gBAAgB;YAChB,OAAO;YACP;QACF;IACF;AACF"}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/store/usePosStore.js"],"sourcesContent":["\"use client\";   // ‚Üê ESTO ES OBLIGATORIO PARA QUE NEXTJS LO ANALICE\n\nimport { create } from \"zustand\";\nimport { salesService } from \"../services/salesService\";\n\nexport const usePosStore = create((set, get) => ({\n  cart: [],\n  selectedClient: null,\n\n  customerForm: {\n    firstName: \"\",\n    lastName: \"\",\n    address: \"\",\n    city: \"\",\n    state: \"\",\n    country: \"\",\n    phone: \"\",\n    ruc: \"\",\n  },\n\n  setCustomerField: (field, value) =>\n    set((state) => ({\n      customerForm: { ...state.customerForm, [field]: value },\n    })),\n\n  setClient: (client) => set({ selectedClient: client }),\n  clearClient: () => set({ selectedClient: null }),\n\n  addToCart: (product) =>\n    set((state) => {\n      const exists = state.cart.find((c) => c.id === product.id);\n\n      if (exists) {\n        return {\n          cart: state.cart.map((c) =>\n            c.id === product.id ? { ...c, qty: c.qty + 1 } : c\n          ),\n        };\n      }\n\n      return { cart: [...state.cart, { ...product, qty: 1 }] };\n    }),\n\n  removeFromCart: (id) =>\n    set((state) => ({\n      cart: state.cart.filter((c) => c.id !== id),\n    })),\n\n  clearCart: () => set({ cart: [] }),\n\n  checkout: async ({ paymentMethod, discount, received, change }) => {\n    const state = get();\n\n    if (!state.selectedClient)\n      throw new Error(\"Seleccione un cliente antes de finalizar.\");\n\n    if (state.cart.length === 0)\n      throw new Error(\"El carrito est√° vac√≠o.\");\n\n    const orgSlug = localStorage.getItem(\"activeOrgSlug\");\n    const orgId = localStorage.getItem(\"activeOrgId\");\n    const branchId = localStorage.getItem(\"activeBranchId\");\n\n    if (!orgSlug || !orgId || !branchId)\n      throw new Error(\"Faltan datos de organizaci√≥n o sucursal.\");\n\n    const saleData = {\n      orgSlug,\n      orgId,\n      client: state.selectedClient,\n      cart: state.cart,\n      paymentType: paymentMethod,\n      discount,\n      received,\n      change,\n      branch: state.selectedClient?.branch,\n      branchId,\n    };\n\n    const sale = await salesService.makeSale(saleData);\n\n    set({ cart: [] });\n\n    return sale.id;\n  },\n}));\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA,cAAgB,mDAAmD;;;AAK5D,MAAM,cAAc,IAAA,uNAAM,EAAC,CAAC,KAAK,MAAQ,CAAC;QAC/C,MAAM,EAAE;QACR,gBAAgB;QAEhB,cAAc;YACZ,WAAW;YACX,UAAU;YACV,SAAS;YACT,MAAM;YACN,OAAO;YACP,SAAS;YACT,OAAO;YACP,KAAK;QACP;QAEA,kBAAkB,CAAC,OAAO,QACxB,IAAI,CAAC,QAAU,CAAC;oBACd,cAAc;wBAAE,GAAG,MAAM,YAAY;wBAAE,CAAC,MAAM,EAAE;oBAAM;gBACxD,CAAC;QAEH,WAAW,CAAC,SAAW,IAAI;gBAAE,gBAAgB;YAAO;QACpD,aAAa,IAAM,IAAI;gBAAE,gBAAgB;YAAK;QAE9C,WAAW,CAAC,UACV,IAAI,CAAC;gBACH,MAAM,SAAS,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,QAAQ,EAAE;gBAEzD,IAAI,QAAQ;oBACV,OAAO;wBACL,MAAM,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,IACpB,EAAE,EAAE,KAAK,QAAQ,EAAE,GAAG;gCAAE,GAAG,CAAC;gCAAE,KAAK,EAAE,GAAG,GAAG;4BAAE,IAAI;oBAErD;gBACF;gBAEA,OAAO;oBAAE,MAAM;2BAAI,MAAM,IAAI;wBAAE;4BAAE,GAAG,OAAO;4BAAE,KAAK;wBAAE;qBAAE;gBAAC;YACzD;QAEF,gBAAgB,CAAC,KACf,IAAI,CAAC,QAAU,CAAC;oBACd,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;gBAC1C,CAAC;QAEH,WAAW,IAAM,IAAI;gBAAE,MAAM,EAAE;YAAC;QAEhC,UAAU,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE;YAC5D,MAAM,QAAQ;YAEd,IAAI,CAAC,MAAM,cAAc,EACvB,MAAM,IAAI,MAAM;YAElB,IAAI,MAAM,IAAI,CAAC,MAAM,KAAK,GACxB,MAAM,IAAI,MAAM;YAElB,MAAM,UAAU,aAAa,OAAO,CAAC;YACrC,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,aAAa,OAAO,CAAC;YAEtC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UACzB,MAAM,IAAI,MAAM;YAElB,MAAM,WAAW;gBACf;gBACA;gBACA,QAAQ,MAAM,cAAc;gBAC5B,MAAM,MAAM,IAAI;gBAChB,aAAa;gBACb;gBACA;gBACA;gBACA,QAAQ,MAAM,cAAc,EAAE;gBAC9B;YACF;YAEA,MAAM,OAAO,MAAM,sOAAY,CAAC,QAAQ,CAAC;YAEzC,IAAI;gBAAE,MAAM,EAAE;YAAC;YAEf,OAAO,KAAK,EAAE;QAChB;IACF,CAAC"}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/components/ProductCard.jsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { usePosStore } from \"../store/usePosStore\";\n\nexport default function ProductCard({ product }) {\n  const addToCart = usePosStore((s) => s.addToCart);\n\n  return (\n    <div\n      onClick={() => addToCart(product)}\n      className=\"bg-white border rounded-md p-2 shadow-sm hover:shadow-md transition cursor-pointer select-none\"\n    >\n      {/* NOMBRE DEL PRODUCTO */}\n      <p className=\"font-semibold text-[11px] leading-tight\">\n        {product.name}\n      </p>\n\n      {/* CATEGOR√çA */}\n      <p className=\"text-[9px] text-slate-500\">{product.category}</p>\n\n      {/* PRECIO */}\n      <p className=\"mt-1 font-bold text-slate-800 text-xs\">\n        C$ {product.price}\n      </p>\n\n      {/* BOT√ìN (MUY PEQUE√ëO) */}\n      <button\n        className=\"mt-2 bg-slate-900 text-white text-[9px] px-2 py-1 rounded w-full\"\n        onClick={(e) => {\n          e.stopPropagation();\n          addToCart(product);\n        }}\n      >\n        Agregar\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,YAAY,EAAE,OAAO,EAAE;;IAC7C,MAAM,YAAY,IAAA,iOAAW;8CAAC,CAAC,IAAM,EAAE,SAAS;;IAEhD,qBACE,+PAAC;QACC,SAAS,IAAM,UAAU;QACzB,WAAU;;0BAGV,+PAAC;gBAAE,WAAU;0BACV,QAAQ,IAAI;;;;;;0BAIf,+PAAC;gBAAE,WAAU;0BAA6B,QAAQ,QAAQ;;;;;;0BAG1D,+PAAC;gBAAE,WAAU;;oBAAwC;oBAC/C,QAAQ,KAAK;;;;;;;0BAInB,+PAAC;gBACC,WAAU;gBACV,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB,UAAU;gBACZ;0BACD;;;;;;;;;;;;AAKP;GAjCwB;;QACJ,iOAAW;;;KADP"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/services/clientsService.js"],"sourcesContent":["export const clientsService = {\n  async searchClients(orgSlug, query) {\n    if (!query || query.length < 2) return [];\n\n    const res = await fetch(`/api/clients`, {\n      method: \"GET\",\n      headers: { \"x-org-slug\": orgSlug },\n    });\n\n    const list = await res.json();\n    query = query.toLowerCase();\n\n    return list.filter(c =>\n      c.name.toLowerCase().includes(query) ||\n      c.phone?.includes(query) ||\n      c.ruc?.toLowerCase().includes(query)\n    );\n  },\n\n  async getClientById(orgSlug, id) {\n    const res = await fetch(`/api/clients/${id}`, {\n      headers: { \"x-org-slug\": orgSlug },\n    });\n\n    return await res.json();\n  },\n\n  async createClient(orgSlug, data) {\n    const res = await fetch(`/api/clients`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-org-slug\": orgSlug,\n      },\n      body: JSON.stringify(data),\n    });\n\n    return await res.json();\n  },\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,iBAAiB;IAC5B,MAAM,eAAc,OAAO,EAAE,KAAK;QAChC,IAAI,CAAC,SAAS,MAAM,MAAM,GAAG,GAAG,OAAO,EAAE;QAEzC,MAAM,MAAM,MAAM,MAAM,CAAC,YAAY,CAAC,EAAE;YACtC,QAAQ;YACR,SAAS;gBAAE,cAAc;YAAQ;QACnC;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,QAAQ,MAAM,WAAW;QAEzB,OAAO,KAAK,MAAM,CAAC,CAAA,IACjB,EAAE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,UAC9B,EAAE,KAAK,EAAE,SAAS,UAClB,EAAE,GAAG,EAAE,cAAc,SAAS;IAElC;IAEA,MAAM,eAAc,OAAO,EAAE,EAAE;QAC7B,MAAM,MAAM,MAAM,MAAM,CAAC,aAAa,EAAE,IAAI,EAAE;YAC5C,SAAS;gBAAE,cAAc;YAAQ;QACnC;QAEA,OAAO,MAAM,IAAI,IAAI;IACvB;IAEA,MAAM,cAAa,OAAO,EAAE,IAAI;QAC9B,MAAM,MAAM,MAAM,MAAM,CAAC,YAAY,CAAC,EAAE;YACtC,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,cAAc;YAChB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,OAAO,MAAM,IAAI,IAAI;IACvB;AACF"}},
    {"offset": {"line": 372, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/components/CustomerSelector.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { usePosStore } from \"../store/usePosStore\";\nimport { clientsService } from \"../services/clientsService\";\n\nexport default function CustomerSelector() {\n  const setClient = usePosStore((s) => s.setClient);\n  const [query, setQuery] = useState(\"\");\n  const [clients, setClients] = useState([]);\n\n  // Buscar clientes del CRM\n  useEffect(() => {\n    const fetchClients = async () => {\n      const data = await clientsService.searchClients(query);\n      setClients(data);\n    };\n\n    fetchClients();\n  }, [query]);\n\n  return (\n    <div className=\"bg-white border rounded-xl p-3\">\n      <p className=\"text-xs font-medium mb-2\">Buscar cliente</p>\n\n      <input\n        type=\"text\"\n        value={query}\n        placeholder=\"Nombre, tel√©fono o ruc...\"\n        onChange={(e) => setQuery(e.target.value)}\n        className=\"w-full text-xs p-2 border rounded-lg\"\n      />\n\n      {query.length > 0 && (\n        <div className=\"bg-white border rounded-xl mt-2 max-h-40 overflow-y-auto\">\n          {clients.map((c) => (\n            <div\n              key={c.id}\n              onClick={() => {\n                setClient(c);\n                setQuery(\"\");\n              }}\n              className=\"px-3 py-2 hover:bg-slate-100 text-xs cursor-pointer\"\n            >\n              <p className=\"font-medium\">{c.name}</p>\n              <p className=\"text-[10px] text-slate-500\">{c.phone}</p>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,YAAY,IAAA,iOAAW;mDAAC,CAAC,IAAM,EAAE,SAAS;;IAChD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2OAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2OAAQ,EAAC,EAAE;IAEzC,0BAA0B;IAC1B,IAAA,4OAAS;sCAAC;YACR,MAAM;2DAAe;oBACnB,MAAM,OAAO,MAAM,0OAAc,CAAC,aAAa,CAAC;oBAChD,WAAW;gBACb;;YAEA;QACF;qCAAG;QAAC;KAAM;IAEV,qBACE,+PAAC;QAAI,WAAU;;0BACb,+PAAC;gBAAE,WAAU;0BAA2B;;;;;;0BAExC,+PAAC;gBACC,MAAK;gBACL,OAAO;gBACP,aAAY;gBACZ,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,WAAU;;;;;;YAGX,MAAM,MAAM,GAAG,mBACd,+PAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,kBACZ,+PAAC;wBAEC,SAAS;4BACP,UAAU;4BACV,SAAS;wBACX;wBACA,WAAU;;0CAEV,+PAAC;gCAAE,WAAU;0CAAe,EAAE,IAAI;;;;;;0CAClC,+PAAC;gCAAE,WAAU;0CAA8B,EAAE,KAAK;;;;;;;uBAR7C,EAAE,EAAE;;;;;;;;;;;;;;;;AAevB;GA9CwB;;QACJ,iOAAW;;;KADP"}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/components/CustomerHeader.jsx"],"sourcesContent":["\"use client\";\n\nimport { usePosStore } from \"../store/usePosStore\";\n\nexport default function CustomerHeader() {\n  const client = usePosStore((s) => s.selectedClient);\n\n  if (!client) \n    return (\n      <div className=\"p-3 bg-slate-50 rounded-xl border text-xs text-slate-400\">\n        Ning√∫n cliente seleccionado\n      </div>\n    );\n\n  return (\n    <div className=\"p-3 bg-blue-50 rounded-xl border border-blue-300 text-xs space-y-1\">\n      <p className=\"font-bold text-blue-900\">{client.name}</p>\n      {client.phone && <p>üìû {client.phone}</p>}\n      {client.address && <p>üìç {client.address}</p>}\n      {client.ruc && <p>üßæ RUC: {client.ruc}</p>}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,SAAS,IAAA,iOAAW;8CAAC,CAAC,IAAM,EAAE,cAAc;;IAElD,IAAI,CAAC,QACH,qBACE,+PAAC;QAAI,WAAU;kBAA2D;;;;;;IAK9E,qBACE,+PAAC;QAAI,WAAU;;0BACb,+PAAC;gBAAE,WAAU;0BAA2B,OAAO,IAAI;;;;;;YAClD,OAAO,KAAK,kBAAI,+PAAC;;oBAAE;oBAAI,OAAO,KAAK;;;;;;;YACnC,OAAO,OAAO,kBAAI,+PAAC;;oBAAE;oBAAI,OAAO,OAAO;;;;;;;YACvC,OAAO,GAAG,kBAAI,+PAAC;;oBAAE;oBAAS,OAAO,GAAG;;;;;;;;;;;;;AAG3C;GAlBwB;;QACP,iOAAW;;;KADJ"}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/components/CustomerForm.jsx"],"sourcesContent":["\"use client\";\n\nimport { usePosStore } from \"../store/usePosStore\";\n\nexport default function CustomerForm() {\n  const customer = usePosStore((s) => s.customerForm);\n  const setField = usePosStore((s) => s.setCustomerField);\n\n  const fields = [\n    { label: \"Nombre\", key: \"firstName\" },\n    { label: \"Apellido\", key: \"lastName\" },\n    { label: \"Tel√©fono\", key: \"phone\" },\n    { label: \"Direcci√≥n\", key: \"address\" },\n    { label: \"Municipio\", key: \"city\" },\n    { label: \"Ciudad\", key: \"state\" },\n    { label: \"Pa√≠s\", key: \"country\" },\n    { label: \"RUC/C√©dula\", key: \"ruc\" },\n  ];\n\n  return (\n    <div className=\"bg-white border rounded-lg p-3 space-y-2 shadow-sm\">\n      <h3 className=\"text-xs font-semibold mb-1\">Datos del Cliente</h3>\n\n      <div className=\"grid grid-cols-2 gap-2\">\n        {fields.map((f) => (\n          <div key={f.key}>\n            <input\n              type=\"text\"\n              placeholder={f.label}\n              value={customer[f.key]}\n              onChange={(e) => setField(f.key, e.target.value)}\n              className=\"w-full border rounded-md p-1.5 text-[11px] focus:ring-1 focus:ring-blue-400\"\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,WAAW,IAAA,iOAAW;8CAAC,CAAC,IAAM,EAAE,YAAY;;IAClD,MAAM,WAAW,IAAA,iOAAW;8CAAC,CAAC,IAAM,EAAE,gBAAgB;;IAEtD,MAAM,SAAS;QACb;YAAE,OAAO;YAAU,KAAK;QAAY;QACpC;YAAE,OAAO;YAAY,KAAK;QAAW;QACrC;YAAE,OAAO;YAAY,KAAK;QAAQ;QAClC;YAAE,OAAO;YAAa,KAAK;QAAU;QACrC;YAAE,OAAO;YAAa,KAAK;QAAO;QAClC;YAAE,OAAO;YAAU,KAAK;QAAQ;QAChC;YAAE,OAAO;YAAQ,KAAK;QAAU;QAChC;YAAE,OAAO;YAAc,KAAK;QAAM;KACnC;IAED,qBACE,+PAAC;QAAI,WAAU;;0BACb,+PAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAE3C,+PAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC,kBACX,+PAAC;kCACC,cAAA,+PAAC;4BACC,MAAK;4BACL,aAAa,EAAE,KAAK;4BACpB,OAAO,QAAQ,CAAC,EAAE,GAAG,CAAC;4BACtB,UAAU,CAAC,IAAM,SAAS,EAAE,GAAG,EAAE,EAAE,MAAM,CAAC,KAAK;4BAC/C,WAAU;;;;;;uBANJ,EAAE,GAAG;;;;;;;;;;;;;;;;AAazB;GAlCwB;;QACL,iOAAW;QACX,iOAAW;;;KAFN"}},
    {"offset": {"line": 683, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/utils/formatCurrency.js"],"sourcesContent":["export const formatCurrency = (n) =>\n  \"C$ \" +\n  n.toLocaleString(\"es-NI\", {\n    minimumFractionDigits: 2,\n  });\n"],"names":[],"mappings":";;;;AAAO,MAAM,iBAAiB,CAAC,IAC7B,QACA,EAAE,cAAc,CAAC,SAAS;QACxB,uBAAuB;IACzB"}},
    {"offset": {"line": 697, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/store/useCashRegisterStore.js"],"sourcesContent":["\"use client\";\n\nimport { create } from \"zustand\";\n\nexport const useCashRegisterStore = create((set, get) => ({\n\n  // üü¢ ESTADO DE CAJA\n  isOpen: false,          // ¬øLa caja est√° abierta?\n  openingAmount: 0,       // Fondo inicial\n  openingTime: null,      // Hora\n  closingTime: null,\n  branch: null,           // Sucursal\n  user: null,             // Cajero\n  movements: [],          // Entradas/salidas\n\n  // üü¢ ABRIR CAJA\n  openCashRegister: ({ amount, user, branch }) =>\n    set({\n      isOpen: true,\n      openingAmount: amount,\n      branch,\n      user,\n      openingTime: new Date(),\n      movements: [],   // vaciar movimientos del d√≠a\n      closingTime: null,\n    }),\n\n  // üü£ REGISTRAR MOVIMIENTO\n  addMovement: (movement) =>\n    set((state) => ({\n      movements: [...state.movements, movement]\n    })),\n\n  // üü§ CALCULAR TOTAL EN CAJA\n  getTotal: () => {\n    const { openingAmount, movements } = get();\n\n    let income = 0;\n    let expense = 0;\n\n    for (const m of movements) {\n      if (m.type === \"entrada\") income += m.amount;\n      if (m.type === \"salida\") expense += m.amount;\n    }\n\n    return openingAmount + income - expense;\n  },\n\n  // üî¥ CERRAR CAJA\n  closeCashRegister: () =>\n    set({\n      isOpen: false,\n      closingTime: new Date(),\n    }),\n\n}));\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIO,MAAM,uBAAuB,IAAA,uNAAM,EAAC,CAAC,KAAK,MAAQ,CAAC;QAExD,oBAAoB;QACpB,QAAQ;QACR,eAAe;QACf,aAAa;QACb,aAAa;QACb,QAAQ;QACR,MAAM;QACN,WAAW,EAAE;QAEb,gBAAgB;QAChB,kBAAkB,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GACzC,IAAI;gBACF,QAAQ;gBACR,eAAe;gBACf;gBACA;gBACA,aAAa,IAAI;gBACjB,WAAW,EAAE;gBACb,aAAa;YACf;QAEF,0BAA0B;QAC1B,aAAa,CAAC,WACZ,IAAI,CAAC,QAAU,CAAC;oBACd,WAAW;2BAAI,MAAM,SAAS;wBAAE;qBAAS;gBAC3C,CAAC;QAEH,4BAA4B;QAC5B,UAAU;YACR,MAAM,EAAE,aAAa,EAAE,SAAS,EAAE,GAAG;YAErC,IAAI,SAAS;YACb,IAAI,UAAU;YAEd,KAAK,MAAM,KAAK,UAAW;gBACzB,IAAI,EAAE,IAAI,KAAK,WAAW,UAAU,EAAE,MAAM;gBAC5C,IAAI,EAAE,IAAI,KAAK,UAAU,WAAW,EAAE,MAAM;YAC9C;YAEA,OAAO,gBAAgB,SAAS;QAClC;QAEA,iBAAiB;QACjB,mBAAmB,IACjB,IAAI;gBACF,QAAQ;gBACR,aAAa,IAAI;YACnB;IAEJ,CAAC"}},
    {"offset": {"line": 754, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/components/CartSidebar.jsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { usePosStore } from \"../store/usePosStore\";\nimport CustomerSelector from \"./CustomerSelector\";\nimport CustomerHeader from \"./CustomerHeader\";\nimport CustomerForm from \"./CustomerForm\";\n\nimport { formatCurrency } from \"../utils/formatCurrency\";\nimport { salesService } from \"../services/salesService\";\n\nimport { useCashRegisterStore } from \"../store/useCashRegisterStore\";\nimport { useBranchStore } from \"../store/useBranchStore\";\n\nexport default function CartSidebar() {\n  const cart = usePosStore((s) => s.cart);\n  const clearCart = usePosStore((s) => s.clearCart);\n  const client = usePosStore((s) => s.selectedClient);\n\n  const branch = useBranchStore((s) => s.activeBranch);\n  const isCashOpen = useCashRegisterStore((s) => s.isOpen);\n  const addMovement = useCashRegisterStore((s) => s.addMovement);\n\n  const customerForm = usePosStore((s) => s.customerForm);\n\n  const total = cart.reduce((acc, item) => acc + item.qty * item.price, 0);\n\n  const handleSale = async () => {\n    try {\n      if (!isCashOpen) {\n        alert(\"Abra la caja antes de vender.\");\n        return;\n      }\n\n      const sale = await salesService.makeSale({\n        client: client || customerForm,\n        cart,\n        paymentType: \"efectivo\",\n        branch,\n      });\n\n      addMovement({\n        type: \"entrada\",\n        amount: sale.total,\n        description: `Venta ${sale.invoice}`,\n        time: new Date(),\n      });\n\n      clearCart();\n      alert(`Venta realizada. Factura: ${sale.invoice}`);\n\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  return (\n    <div className=\"bg-white border rounded-xl shadow-md h-full p-3 flex flex-col space-y-3\">\n\n      {/* ENCABEZADO DEL CLIENTE */}\n      <CustomerHeader />\n\n      {/* SELECTOR DEL CLIENTE */}\n      <CustomerSelector />\n\n      {/* FORMULARIO DEL CLIENTE MANUAL */}\n      <CustomerForm />\n\n      {/* PRODUCTOS DEL CARRITO */}\n      <div className=\"flex-1 overflow-y-auto mt-2 space-y-2 pr-1\">\n        {cart.map((item) => (\n          <div\n            key={item.id}\n            className=\"bg-slate-50 p-2 rounded-lg border border-slate-200 shadow-sm\"\n          >\n            <div className=\"flex justify-between items-center\">\n              <div>\n                <p className=\"text-xs font-semibold\">{item.name}</p>\n                <p className=\"text-[10px] text-slate-500\">\n                  {item.qty} x C$ {item.price}\n                </p>\n              </div>\n              <p className=\"text-xs font-bold\">\n                {formatCurrency(item.qty * item.price)}\n              </p>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* TOTAL + ACCIONES */}\n      <div className=\"border-t pt-3\">\n        <div className=\"flex justify-between text-xs font-bold mb-2\">\n          <span>Total</span>\n          <span>{formatCurrency(total)}</span>\n        </div>\n\n        <button\n          className=\"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg text-xs font-semibold\"\n          onClick={handleSale}\n        >\n          Finalizar Venta\n        </button>\n\n        <button\n          onClick={clearCart}\n          className=\"w-full mt-2 bg-slate-300 text-slate-800 py-1.5 rounded-lg text-[10px]\"\n        >\n          Vaciar Carrito\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;;;AAZA;;;;;;;;;;AAce,SAAS;;IACtB,MAAM,OAAO,IAAA,iOAAW;yCAAC,CAAC,IAAM,EAAE,IAAI;;IACtC,MAAM,YAAY,IAAA,iOAAW;8CAAC,CAAC,IAAM,EAAE,SAAS;;IAChD,MAAM,SAAS,IAAA,iOAAW;2CAAC,CAAC,IAAM,EAAE,cAAc;;IAElD,MAAM,SAAS,IAAA,uOAAc;8CAAC,CAAC,IAAM,EAAE,YAAY;;IACnD,MAAM,aAAa,IAAA,mPAAoB;wDAAC,CAAC,IAAM,EAAE,MAAM;;IACvD,MAAM,cAAc,IAAA,mPAAoB;yDAAC,CAAC,IAAM,EAAE,WAAW;;IAE7D,MAAM,eAAe,IAAA,iOAAW;iDAAC,CAAC,IAAM,EAAE,YAAY;;IAEtD,MAAM,QAAQ,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,GAAG,GAAG,KAAK,KAAK,EAAE;IAEtE,MAAM,aAAa;QACjB,IAAI;YACF,IAAI,CAAC,YAAY;gBACf,MAAM;gBACN;YACF;YAEA,MAAM,OAAO,MAAM,sOAAY,CAAC,QAAQ,CAAC;gBACvC,QAAQ,UAAU;gBAClB;gBACA,aAAa;gBACb;YACF;YAEA,YAAY;gBACV,MAAM;gBACN,QAAQ,KAAK,KAAK;gBAClB,aAAa,CAAC,MAAM,EAAE,KAAK,OAAO,EAAE;gBACpC,MAAM,IAAI;YACZ;YAEA;YACA,MAAM,CAAC,0BAA0B,EAAE,KAAK,OAAO,EAAE;QAEnD,EAAE,OAAO,OAAO;YACd,MAAM,MAAM,OAAO;QACrB;IACF;IAEA,qBACE,+PAAC;QAAI,WAAU;;0BAGb,+PAAC,sOAAc;;;;;0BAGf,+PAAC,wOAAgB;;;;;0BAGjB,+PAAC,oOAAY;;;;;0BAGb,+PAAC;gBAAI,WAAU;0BACZ,KAAK,GAAG,CAAC,CAAC,qBACT,+PAAC;wBAEC,WAAU;kCAEV,cAAA,+PAAC;4BAAI,WAAU;;8CACb,+PAAC;;sDACC,+PAAC;4CAAE,WAAU;sDAAyB,KAAK,IAAI;;;;;;sDAC/C,+PAAC;4CAAE,WAAU;;gDACV,KAAK,GAAG;gDAAC;gDAAO,KAAK,KAAK;;;;;;;;;;;;;8CAG/B,+PAAC;oCAAE,WAAU;8CACV,IAAA,uOAAc,EAAC,KAAK,GAAG,GAAG,KAAK,KAAK;;;;;;;;;;;;uBAXpC,KAAK,EAAE;;;;;;;;;;0BAmBlB,+PAAC;gBAAI,WAAU;;kCACb,+PAAC;wBAAI,WAAU;;0CACb,+PAAC;0CAAK;;;;;;0CACN,+PAAC;0CAAM,IAAA,uOAAc,EAAC;;;;;;;;;;;;kCAGxB,+PAAC;wBACC,WAAU;wBACV,SAAS;kCACV;;;;;;kCAID,+PAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;GAnGwB;;QACT,iOAAW;QACN,iOAAW;QACd,iOAAW;QAEX,uOAAc;QACV,mPAAoB;QACnB,mPAAoB;QAEnB,iOAAW;;;KATV"}},
    {"offset": {"line": 983, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/components/PosHeader.jsx"],"sourcesContent":["\"use client\";\n\nimport { useBranchStore } from \"../store/useBranchStore\";\n\nexport default function PosHeader() {\n  const branches = useBranchStore((s) => s.branches);\n  const activeBranch = useBranchStore((s) => s.activeBranch);\n  const setBranch = useBranchStore((s) => s.setBranch);\n\n  return (\n    <div className=\"flex items-center justify-between mb-4\">\n      <h1 className=\"text-lg font-semibold\">Punto de Venta</h1>\n\n      <select\n        className=\"text-sm border rounded px-2 py-1\"\n        value={activeBranch}\n        onChange={(e) => setBranch(e.target.value)}\n      >\n        {branches.map((b) => (\n          <option key={b.id} value={b.id}>\n            {b.name}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,WAAW,IAAA,uOAAc;8CAAC,CAAC,IAAM,EAAE,QAAQ;;IACjD,MAAM,eAAe,IAAA,uOAAc;kDAAC,CAAC,IAAM,EAAE,YAAY;;IACzD,MAAM,YAAY,IAAA,uOAAc;+CAAC,CAAC,IAAM,EAAE,SAAS;;IAEnD,qBACE,+PAAC;QAAI,WAAU;;0BACb,+PAAC;gBAAG,WAAU;0BAAwB;;;;;;0BAEtC,+PAAC;gBACC,WAAU;gBACV,OAAO;gBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;0BAExC,SAAS,GAAG,CAAC,CAAC,kBACb,+PAAC;wBAAkB,OAAO,EAAE,EAAE;kCAC3B,EAAE,IAAI;uBADI,EAAE,EAAE;;;;;;;;;;;;;;;;AAO3B;GAtBwB;;QACL,uOAAc;QACV,uOAAc;QACjB,uOAAc;;;KAHV"}},
    {"offset": {"line": 1056, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/src/modules/POS/PosScreen.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { inventoryService } from \"./services/inventoryService\";\nimport { useBranchStore } from \"./store/useBranchStore\";\n\nimport ProductCard from \"./components/ProductCard\";\nimport CartSidebar from \"./components/CartSidebar\";\nimport PosHeader from \"./components/PosHeader\";\n\nexport default function PosScreen() {\n  const branch = useBranchStore((s) => s.activeBranch);\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    async function load() {\n      const data = await inventoryService.getInventory(branch);\n\n      // ALWAYS extract array safely\n      const list =\n        Array.isArray(data)\n          ? data\n          : Array.isArray(data?.items)\n          ? data.items\n          : Array.isArray(data?.data)\n          ? data.data\n          : [];\n\n      setProducts(list);\n    }\n    load();\n  }, [branch]);\n\n  return (\n    <div className=\"grid grid-cols-12 gap-4 h-full\">\n      {/* HEADER */}\n      <div className=\"col-span-12\">\n        <PosHeader />\n      </div>\n\n      {/* PRODUCTOS */}\n      <div className=\"col-span-8 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2\">\n        {products.length === 0 ? (\n          <p className=\"text-slate-500 text-sm col-span-full\">\n            No hay productos para esta bodega ({branch})\n          </p>\n        ) : (\n          products.map((p) => (\n            <ProductCard key={p.id} product={p} />\n          ))\n        )}\n      </div>\n\n      {/* CARRITO */}\n      <div className=\"col-span-4\">\n        <CartSidebar />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;AACA;;;AARA;;;;;;;AAUe,SAAS;;IACtB,MAAM,SAAS,IAAA,uOAAc;4CAAC,CAAC,IAAM,EAAE,YAAY;;IACnD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2OAAQ,EAAC,EAAE;IAE3C,IAAA,4OAAS;+BAAC;YACR,eAAe;gBACb,MAAM,OAAO,MAAM,8OAAgB,CAAC,YAAY,CAAC;gBAEjD,8BAA8B;gBAC9B,MAAM,OACJ,MAAM,OAAO,CAAC,QACV,OACA,MAAM,OAAO,CAAC,MAAM,SACpB,KAAK,KAAK,GACV,MAAM,OAAO,CAAC,MAAM,QACpB,KAAK,IAAI,GACT,EAAE;gBAER,YAAY;YACd;YACA;QACF;8BAAG;QAAC;KAAO;IAEX,qBACE,+PAAC;QAAI,WAAU;;0BAEb,+PAAC;gBAAI,WAAU;0BACb,cAAA,+PAAC,iOAAS;;;;;;;;;;0BAIZ,+PAAC;gBAAI,WAAU;0BACZ,SAAS,MAAM,KAAK,kBACnB,+PAAC;oBAAE,WAAU;;wBAAuC;wBACd;wBAAO;;;;;;2BAG7C,SAAS,GAAG,CAAC,CAAC,kBACZ,+PAAC,mOAAW;wBAAY,SAAS;uBAAf,EAAE,EAAE;;;;;;;;;;0BAM5B,+PAAC;gBAAI,WAAU;0BACb,cAAA,+PAAC,mOAAW;;;;;;;;;;;;;;;;AAIpB;GAjDwB;;QACP,uOAAc;;;KADP"}},
    {"offset": {"line": 1169, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/app/%5BorgSlug%5D/pos/page.jsx"],"sourcesContent":["\"use client\";\n\nimport PosScreen from \"@/src/modules/POS/PosScreen\";\n\nexport default function PosPage() {\n  return <PosScreen />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBAAO,+PAAC,mNAAS;;;;;AACnB;KAFwB"}},
    {"offset": {"line": 1195, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/node_modules/zustand/esm/vanilla.mjs"],"sourcesContent":["const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\nexport { createStore };\n"],"names":[],"mappings":";;;;AAAA,MAAM,kBAAkB,CAAC;IACvB,IAAI;IACJ,MAAM,YAAY,aAAa,GAAG,IAAI;IACtC,MAAM,WAAW,CAAC,SAAS;QACzB,MAAM,YAAY,OAAO,YAAY,aAAa,QAAQ,SAAS;QACnE,IAAI,CAAC,OAAO,EAAE,CAAC,WAAW,QAAQ;YAChC,MAAM,gBAAgB;YACtB,QAAQ,CAAC,WAAW,OAAO,UAAU,OAAO,cAAc,YAAY,cAAc,IAAI,IAAI,YAAY,OAAO,MAAM,CAAC,CAAC,GAAG,OAAO;YACjI,UAAU,OAAO,CAAC,CAAC,WAAa,SAAS,OAAO;QAClD;IACF;IACA,MAAM,WAAW,IAAM;IACvB,MAAM,kBAAkB,IAAM;IAC9B,MAAM,YAAY,CAAC;QACjB,UAAU,GAAG,CAAC;QACd,OAAO,IAAM,UAAU,MAAM,CAAC;IAChC;IACA,MAAM,MAAM;QAAE;QAAU;QAAU;QAAiB;IAAU;IAC7D,MAAM,eAAe,QAAQ,YAAY,UAAU,UAAU;IAC7D,OAAO;AACT;AACA,MAAM,cAAe,CAAC,cAAgB,cAAc,gBAAgB,eAAe","ignoreList":[0]}},
    {"offset": {"line": 1231, "column": 0}, "map": {"version":3,"sources":["file:///Users/percyscastillo/Desktop/proyectos%20coding/agro-erp-production-2/node_modules/zustand/esm/react.mjs"],"sourcesContent":["import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    React.useCallback(() => selector(api.getState()), [api, selector]),\n    React.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\nexport { create, useStore };\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,WAAW,CAAC,MAAQ;AAC1B,SAAS,SAAS,GAAG,EAAE,WAAW,QAAQ;IACxC,MAAM,QAAQ,0OAAK,CAAC,oBAAoB,CACtC,IAAI,SAAS,EACb,0OAAK,CAAC,WAAW;gDAAC,IAAM,SAAS,IAAI,QAAQ;+CAAK;QAAC;QAAK;KAAS,GACjE,0OAAK,CAAC,WAAW;gDAAC,IAAM,SAAS,IAAI,eAAe;+CAAK;QAAC;QAAK;KAAS;IAE1E,0OAAK,CAAC,aAAa,CAAC;IACpB,OAAO;AACT;AACA,MAAM,aAAa,CAAC;IAClB,MAAM,MAAM,IAAA,8NAAW,EAAC;IACxB,MAAM,gBAAgB,CAAC,WAAa,SAAS,KAAK;IAClD,OAAO,MAAM,CAAC,eAAe;IAC7B,OAAO;AACT;AACA,MAAM,SAAU,CAAC,cAAgB,cAAc,WAAW,eAAe","ignoreList":[0]}}]
}